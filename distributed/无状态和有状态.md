## 什么是有状态和无状态
对于服务器程序来说，究竟是有状态服务,还是无状态服务，其判断的依据是指两个来自相同发起者的请求在服务端是否具备上下文关系。如果是状态化请求，那么服务端一般都需要保存请求的相关信息，每个请求可以默认地使用以前的请求信息。而对于无状态请求,服务器所能够处理的过程必须全部来自于请求所携带的信息，以及其他服务器自身所保存的、并且可以被所有请求所使用的公共信息。

**无状态**
http就是无状态的
**有状态:**
一个典型的场景就是用户登录的时候，token传递给应用服务器,应用服务器用session来维系登录用户的上下文信息，这时应用程序就是无状态的。

## 无状态和有状态的优缺点
**有状态**
缺点:
-  服务间数据需要同步 主从同步 副本同步等
-  扩容比较复杂 双机热备等 
-  服务端保存数据，增加服务器压力，宕机容易丢失数据

**无状态**
优点:
 - 服务间数据不需要同步 
 - 扩容快速 热备冷备切换容易 容易水平扩展。

如何构建无状态?
	将内存中的会话数据,如session,存放在第三方的一些服务或者中间件上，如使用redis做缓存。
	对于文件，照片之类的数据，存放在统一的对象存储里面，通过CDN进行预加载。
	对于非结构化数据，可以存在统一的索引引擎里。
	配置文件由配置中心去统一指定。



